(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{5200:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invest",function(){return s(7029)}])},2210:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(5893);function a(){return(0,n.jsxs)("footer",{className:"mt-10 py-4 text-center text-sm text-gray-600 border-t",children:[(0,n.jsx)("p",{children:"\uD83D\uDCDE Need help? Contact support or join our Telegram community."}),(0,n.jsxs)("p",{children:["\uD83D\uDCAC ",(0,n.jsx)("a",{href:"https://t.me/finverg",target:"_blank",className:"text-blue-600 underline",children:"Join Telegram"})," | \uD83D\uDCE7 ",(0,n.jsx)("a",{href:"mailto:support@finverg.com",className:"text-blue-600 underline",children:"support@finverg.com"})]})]})}},2150:function(e,t,s){"use strict";s.d(t,{O:function(){return i}});var n=s(6844),a=s(3454);let r=a.env.NEXT_PUBLIC_SUPABASE_URL,l=a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,i=(0,n.eI)(r,l)},7029:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var n=s(5893),a=s(7294),r=s(1163),l=s(2150),i=s(2210);function o(){let e=(0,r.useRouter)(),[t,s]=(0,a.useState)([]),[o,u]=(0,a.useState)("approved"),[c,d]=(0,a.useState)(0),[p,h]=(0,a.useState)(0);return(0,a.useEffect)(()=>{(async()=>{let{data:{user:t}}=await l.O.auth.getUser();if(!t)return e.push("/auth/login");let n=l.O.from("user_investments").select("*").eq("user_id",t.id);"all"!==o&&(n=n.eq("status",o));let{data:a,error:r}=await n.order("created_at",{ascending:!1});if(r)return console.error(r);s(a||[]);let i=0,u=0;null==a||a.forEach(e=>{if("approved"===e.status){i+=e.amount;let t=(Date.now()-new Date(e.created_at).getTime())/864e5,s="phase1"===e.phase?1:"phase2"===e.phase?.6:.3;u+=e.amount*s*t/365}}),d(parseFloat(i.toFixed(2))),h(parseFloat(u.toFixed(2)))})()},[o,e]),(0,n.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"\uD83D\uDCCA Dashboard"}),(0,n.jsxs)("div",{className:"my-4",children:[(0,n.jsxs)("p",{children:["\uD83D\uDCB0 Portfolio Value: ₹",c]}),(0,n.jsxs)("p",{className:"text-green-600",children:["\uD83D\uDCC8 Gains: ₹",p," (daily/phase)"]})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"mr-2",children:"Filter:"}),(0,n.jsxs)("select",{value:o,onChange:e=>u(e.target.value),className:"border p-1 rounded",children:[(0,n.jsx)("option",{value:"approved",children:"Approved"}),(0,n.jsx)("option",{value:"pending",children:"Pending"}),(0,n.jsx)("option",{value:"rejected",children:"Rejected"}),(0,n.jsx)("option",{value:"all",children:"All"})]})]}),0===t.length?(0,n.jsx)("p",{children:"No investments found."}):(0,n.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,n.jsxs)("div",{className:"border p-4 rounded bg-white shadow",children:[(0,n.jsxs)("p",{className:"font-medium",children:["₹",e.amount," - ",e.phase," via ",e.method]}),(0,n.jsxs)("p",{className:"text-sm",children:["TXN: ",e.transaction_id||"N/A"," | Date: ",new Date(e.created_at).toLocaleDateString()]}),(0,n.jsx)("p",{className:"".concat("approved"===e.status?"text-green-600":"pending"===e.status?"text-yellow-600":"text-red-600"," font-semibold"),children:e.status.toUpperCase()})]},e.id))}),(0,n.jsx)("a",{href:"/invest",className:"inline-block mt-6 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"➕ Make New Investment"}),(0,n.jsx)(i.Z,{})]})}}},function(e){e.O(0,[751,888,774,179],function(){return e(e.s=5200)}),_N_E=e.O()}]);