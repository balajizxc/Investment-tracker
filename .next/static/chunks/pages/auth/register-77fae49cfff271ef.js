(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{6659:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return r(2939)}])},2150:function(e,t,r){"use strict";r.d(t,{O:function(){return l}});var a=r(6844),s=r(3454);let n=s.env.NEXT_PUBLIC_SUPABASE_URL,u=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,l=(0,a.eI)(n,u)},2939:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(5893),s=r(7294),n=r(1163),u=r(2150);function l(){let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),m=(0,n.useRouter)(),f=async t=>{t.preventDefault(),c("");let{data:{user:a,session:s},error:n}=await u.O.auth.signUp({email:e,password:r});if(n||!a){c((null==n?void 0:n.message)||"Registration failed");return}let{data:l,error:d}=await u.O.from("users").select("id").eq("id",a.id).single();if(!l){let{error:e}=await u.O.from("users").insert([{id:a.id,email:a.email,name:i}]);if(e){c("User created but failed to save profile");return}}alert("âœ… Registered successfully. Please check your email to verify."),m.push("/dashboard")};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,a.jsxs)("form",{onSubmit:f,className:"bg-white p-6 rounded shadow-md w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"\uD83D\uDCDD Register"}),(0,a.jsx)("input",{type:"text",placeholder:"Name",value:i,onChange:e=>d(e.target.value),className:"mb-2 p-2 border w-full rounded",required:!0}),(0,a.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),className:"mb-2 p-2 border w-full rounded",required:!0}),(0,a.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:e=>l(e.target.value),className:"mb-4 p-2 border w-full rounded",required:!0}),o&&(0,a.jsx)("p",{className:"text-red-500 text-sm mb-3",children:o}),(0,a.jsx)("button",{type:"submit",className:"bg-green-600 text-white p-2 w-full rounded hover:bg-green-700",children:"Register"}),(0,a.jsxs)("p",{className:"mt-4 text-sm text-center",children:["Already have an account?"," ",(0,a.jsx)("a",{href:"/auth/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})})}}},function(e){e.O(0,[751,888,774,179],function(){return e(e.s=6659)}),_N_E=e.O()}]);